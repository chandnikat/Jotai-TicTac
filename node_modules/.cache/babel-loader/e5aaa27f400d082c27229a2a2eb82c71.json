{"ast":null,"code":"import _toConsumableArray from \"/Users/chandnipatel/Desktop/GitHub Forks/Jotai-TicTac/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/chandnipatel/Desktop/GitHub Forks/Jotai-TicTac/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { createContext as e, useRef as r, createElement as t, useContext as n, useReducer as o, useEffect as c, useLayoutEffect as u } from \"react\";\nimport { unstable_runWithPriority as s, unstable_NormalPriority as i } from \"scheduler\";\nimport { unstable_batchedUpdates as d } from \"react-dom\";\n\nvar p = Symbol(),\n    a = Symbol(),\n    f = \"undefined\" == typeof window || /ServerSideRendering/.test(window.navigator && window.navigator.userAgent) ? c : u,\n    l = s ? function (e) {\n  return s(i, e);\n} : function (e) {\n  return e();\n},\n    v = function v(e) {\n  return e;\n};\n\nfunction w(n) {\n  var o = e({\n    [p]: {\n      v: {\n        current: n\n      },\n      n: {\n        current: -1\n      },\n      l: new Set(),\n      u: function u(e) {\n        return e();\n      }\n    }\n  });\n  var c;\n  return o[a] = o.Provider, o.Provider = (c = o.Provider, function (_ref) {\n    var e = _ref.value,\n        n = _ref.children;\n    var o = r(e),\n        u = r(0),\n        s = r();\n\n    if (!s.current) {\n      var _e = new Set(),\n          _r = function _r(r) {\n        d(function () {\n          u.current += 1, _e.forEach(function (e) {\n            return e([u.current]);\n          }), r();\n        });\n      };\n\n      s.current = {\n        [p]: {\n          v: o,\n          n: u,\n          l: _e,\n          u: _r\n        }\n      };\n    }\n\n    return f(function () {\n      o.current = e, u.current += 1, l(function () {\n        s.current[p].l.forEach(function (r) {\n          r([u.current, e]);\n        });\n      });\n    }, [e]), t(c, {\n      value: s.current\n    }, n);\n  }), delete o.Consumer, o;\n}\n\nfunction E(e, r) {\n  var t = n(e)[p];\n  if (\"object\" == typeof process && \"production\" !== process.env.NODE_ENV && !t) throw new Error(\"useContextSelector requires special context\");\n\n  var c = t.v.current,\n      u = t.n.current,\n      s = t.l,\n      i = r(c),\n      _o = o(function (e, t) {\n    if (!t) return [c, i];\n    if (t[0] <= u) return Object.is(e[1], i) ? e : [c, i];\n\n    try {\n      if (2 === t.length) {\n        if (Object.is(e[0], t[1])) return e;\n\n        var _n = r(t[1]);\n\n        return Object.is(e[1], _n) ? e : [t[1], _n];\n      }\n    } catch (e) {}\n\n    return _toConsumableArray(e);\n  }, [c, i]),\n      _o2 = _slicedToArray(_o, 2),\n      d = _o2[0],\n      a = _o2[1];\n\n  return Object.is(d[1], i) || a(), f(function () {\n    return s.add(a), function () {\n      s.delete(a);\n    };\n  }, [s]), d[1];\n}\n\nfunction h(e) {\n  return E(e, v);\n}\n\nfunction b(e) {\n  var r = n(e)[p];\n  if (\"object\" == typeof process && \"production\" !== process.env.NODE_ENV && !r) throw new Error(\"useContextUpdate requires special context\");\n  var t = r.u;\n  return t;\n}\n\nvar m = function m(_ref2) {\n  var e = _ref2.context,\n      r = _ref2.value,\n      n = _ref2.children;\n  var o = e[a];\n  if (\"object\" == typeof process && \"production\" !== process.env.NODE_ENV && !o) throw new Error(\"BridgeProvider requires special context\");\n  return t(o, {\n    value: r\n  }, n);\n},\n    x = function x(e) {\n  var r = n(e);\n  if (\"object\" == typeof process && \"production\" !== process.env.NODE_ENV && !r[p]) throw new Error(\"useBridgeValue requires special context\");\n  return r;\n};\n\nexport { m as BridgeProvider, w as createContext, x as useBridgeValue, h as useContext, E as useContextSelector, b as useContextUpdate };","map":{"version":3,"sources":["../src/index.ts"],"names":["CONTEXT_VALUE","Symbol","ORIGINAL_PROVIDER","window","test","navigator","userAgent","useIsomorphicLayoutEffect","useEffect","useLayoutEffect","runWithNormalPriority","runWithPriority","thunk","NormalPriority","ProviderOrig","value","children","valueRef","useRef","versionRef","contextValue","current","listeners","Set","update","batchedUpdates","forEach","listener","[object Object]","v","n","l","u","createElement","identity","x","createContext","defaultValue","context","createContextOrig","f","Provider","Consumer","useContextSelector","selector","useContextOrig","process","env","NODE_ENV","Error","version","selected","state","dispatch","useReducer","prev","next","Object","is","length","nextSelected","e","add","delete","useContext","useContextUpdate","BridgeProvider","useBridgeValue","bridgeValue"],"mappings":"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","sourcesContent":["import {\n  ComponentType,\n  Context as ContextOrig,\n  FC,\n  MutableRefObject,\n  Provider,\n  createElement,\n  createContext as createContextOrig,\n  useContext as useContextOrig,\n  useEffect,\n  useLayoutEffect,\n  useReducer,\n  useRef,\n} from 'react';\nimport {\n  unstable_NormalPriority as NormalPriority,\n  unstable_runWithPriority as runWithPriority,\n} from 'scheduler';\n\nimport { batchedUpdates } from './batchedUpdates';\n\nconst CONTEXT_VALUE = Symbol();\nconst ORIGINAL_PROVIDER = Symbol();\n\nconst isSSR = typeof window === 'undefined'\n  || /ServerSideRendering/.test(window.navigator && window.navigator.userAgent);\n\nconst useIsomorphicLayoutEffect = isSSR ? useEffect : useLayoutEffect;\n\n// for preact that doesn't have runWithPriority\nconst runWithNormalPriority = runWithPriority\n  ? (thunk: () => void) => runWithPriority(NormalPriority, thunk)\n  : (thunk: () => void) => thunk();\n\ntype Version = number;\n\ntype ContextValue<Value> = {\n  [CONTEXT_VALUE]: {\n    /* \"v\"alue     */ v: MutableRefObject<Value>;\n    /* versio\"n\"   */ n: MutableRefObject<Version>;\n    /* \"l\"isteners */ l: Set<(action: readonly [Version] | readonly [Version, Value]) => void>;\n    /* \"u\"pdate    */ u: (thunk: () => void) => void;\n  };\n};\n\nexport interface Context<Value> {\n  Provider: ComponentType<{ value: Value }>;\n  displayName?: string;\n}\n\nconst createProvider = <Value>(\n  ProviderOrig: Provider<ContextValue<Value>>,\n): FC<{ value: Value }> => ({ value, children }) => {\n    const valueRef = useRef(value);\n    const versionRef = useRef(0);\n    const contextValue = useRef<ContextValue<Value>>();\n    if (!contextValue.current) {\n      const listeners = new Set<(action: readonly [Version] | readonly [Version, Value]) => void>();\n      const update = (thunk: () => void) => {\n        batchedUpdates(() => {\n          versionRef.current += 1;\n          listeners.forEach((listener) => listener([versionRef.current]));\n          thunk();\n        });\n      };\n      contextValue.current = {\n        [CONTEXT_VALUE]: {\n          /* \"v\"alue     */ v: valueRef,\n          /* versio\"n\"   */ n: versionRef,\n          /* \"l\"isteners */ l: listeners,\n          /* \"u\"pdate    */ u: update,\n        },\n      };\n    }\n    useIsomorphicLayoutEffect(() => {\n      valueRef.current = value;\n      versionRef.current += 1;\n      runWithNormalPriority(() => {\n        (contextValue.current as ContextValue<Value>)[CONTEXT_VALUE].l.forEach((listener) => {\n          listener([versionRef.current, value]);\n        });\n      });\n    }, [value]);\n    return createElement(ProviderOrig, { value: contextValue.current }, children);\n  };\n\nconst identity = <T>(x: T) => x;\n\n/**\n * This creates a special context for `useContextSelector`.\n *\n * @example\n * import { createContext } from 'use-context-selector';\n *\n * const PersonContext = createContext({ firstName: '', familyName: '' });\n */\nexport function createContext<Value>(defaultValue: Value) {\n  const context = createContextOrig<ContextValue<Value>>({\n    [CONTEXT_VALUE]: {\n      /* \"v\"alue     */ v: { current: defaultValue },\n      /* versio\"n\"   */ n: { current: -1 },\n      /* \"l\"isteners */ l: new Set(),\n      /* \"u\"pdate    */ u: (f) => f(),\n    },\n  });\n  (context as unknown as {\n    [ORIGINAL_PROVIDER]: Provider<ContextValue<Value>>;\n  })[ORIGINAL_PROVIDER] = context.Provider;\n  (context as unknown as Context<Value>).Provider = createProvider(context.Provider);\n  delete (context as any).Consumer; // no support for Consumer\n  return context as unknown as Context<Value>;\n}\n\n/**\n * This hook returns context selected value by selector.\n *\n * It will only accept context created by `createContext`.\n * It will trigger re-render if only the selected value is referentially changed.\n *\n * The selector should return referentially equal result for same input for better performance.\n *\n * @example\n * import { useContextSelector } from 'use-context-selector';\n *\n * const firstName = useContextSelector(PersonContext, state => state.firstName);\n */\nexport function useContextSelector<Value, Selected>(\n  context: Context<Value>,\n  selector: (value: Value) => Selected,\n) {\n  const contextValue = useContextOrig(\n    context as unknown as ContextOrig<ContextValue<Value>>,\n  )[CONTEXT_VALUE];\n  if (typeof process === 'object' && process.env.NODE_ENV !== 'production') {\n    if (!contextValue) {\n      throw new Error('useContextSelector requires special context');\n    }\n  }\n  const {\n    /* \"v\"alue     */ v: { current: value },\n    /* versio\"n\"   */ n: { current: version },\n    /* \"l\"isteners */ l: listeners,\n  } = contextValue;\n  const selected = selector(value);\n  const [state, dispatch] = useReducer((\n    prev: readonly [Value, Selected],\n    next?: // undefined from render below\n      | readonly [Version] // from useContextUpdate\n      | readonly [Version, Value], // from provider effect\n  ) => {\n    if (!next) {\n      return [value, selected] as const;\n    }\n    if (next[0] <= version) {\n      if (Object.is(prev[1], selected)) {\n        return prev; // bail out\n      }\n      return [value, selected] as const;\n    }\n    try {\n      if (next.length === 2) {\n        if (Object.is(prev[0], next[1])) {\n          return prev; // do not update\n        }\n        const nextSelected = selector(next[1]);\n        if (Object.is(prev[1], nextSelected)) {\n          return prev; // do not update\n        }\n        return [next[1], nextSelected] as const;\n      }\n    } catch (e) {\n      // ignored (stale props or some other reason)\n    }\n    return [...prev] as const; // schedule update\n  }, [value, selected] as const);\n  if (!Object.is(state[1], selected)) {\n    // schedule re-render\n    // this is safe because it's self contained\n    dispatch();\n  }\n  useIsomorphicLayoutEffect(() => {\n    listeners.add(dispatch);\n    return () => {\n      listeners.delete(dispatch);\n    };\n  }, [listeners]);\n  return state[1];\n}\n\n/**\n * This hook returns the entire context value.\n * Use this instead of React.useContext for consistent behavior.\n *\n * @example\n * import { useContext } from 'use-context-selector';\n *\n * const person = useContext(PersonContext);\n */\nexport function useContext<Value>(context: Context<Value>) {\n  return useContextSelector(context, identity);\n}\n\n/**\n * This hook returns an update function that accepts a thunk function\n *\n * Use this for a function that will change a value.\n *\n * @example\n * import { useContextUpdate } from 'use-context-selector';\n *\n * const update = useContextUpdate();\n * update(() => setState(...));\n */\nexport function useContextUpdate<Value>(context: Context<Value>) {\n  const contextValue = useContextOrig(\n    context as unknown as ContextOrig<ContextValue<Value>>,\n  )[CONTEXT_VALUE];\n  if (typeof process === 'object' && process.env.NODE_ENV !== 'production') {\n    if (!contextValue) {\n      throw new Error('useContextUpdate requires special context');\n    }\n  }\n  const { u: update } = contextValue;\n  return update;\n}\n\n/**\n * This is a Provider component for bridging multiple react roots\n *\n * @example\n * const valueToBridge = useBridgeValue(PersonContext);\n * return (\n *   <Renderer>\n *     <BridgeProvider context={PersonContext} value={valueToBridge}>\n *       {children}\n *     </BridgeProvider>\n *   </Renderer>\n * );\n */\nexport const BridgeProvider: FC<{\n  context: Context<any>;\n  value: any;\n}> = ({ context, value, children }) => {\n  const { [ORIGINAL_PROVIDER]: ProviderOrig } = context as unknown as {\n    [ORIGINAL_PROVIDER]: Provider<unknown>;\n  };\n  if (typeof process === 'object' && process.env.NODE_ENV !== 'production') {\n    if (!ProviderOrig) {\n      throw new Error('BridgeProvider requires special context');\n    }\n  }\n  return createElement(ProviderOrig, { value }, children);\n};\n\n/**\n * This hook return a value for BridgeProvider\n */\nexport const useBridgeValue = (context: Context<any>) => {\n  const bridgeValue = useContextOrig(context as unknown as ContextOrig<ContextValue<unknown>>);\n  if (typeof process === 'object' && process.env.NODE_ENV !== 'production') {\n    if (!bridgeValue[CONTEXT_VALUE]) {\n      throw new Error('useBridgeValue requires special context');\n    }\n  }\n  return bridgeValue as any;\n};\n"]},"metadata":{},"sourceType":"module"}