{"ast":null,"code":"import _slicedToArray from \"/Users/chandnipatel/Desktop/GitHub Forks/Jotai-TicTac/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/chandnipatel/Desktop/GitHub Forks/Jotai-TicTac/src/index.js\",\n    _this = this;\n\n// This was forked and migrated to jotai from https://codesandbox.io/s/valtio-tic-tac-forked-7bzu4?file=/src/index.js\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles.css\";\nimport useWindowSize from \"react-use/lib/useWindowSize\";\nimport Confetti from \"react-confetti\";\nimport { atom, useAtom, Provider } from \"jotai\";\nvar lines = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]]; // prettier-ignore\n\nvar squaresAtom = atom(Array(9).fill(null));\nsquaresAtom.debugLabel = \"squaresAtom\";\nvar nextValueAtom = atom(function (get) {\n  return get(squaresAtom).filter(function (r) {\n    return r === \"O\";\n  }).length === get(squaresAtom).filter(function (r) {\n    return r === \"X\";\n  }).length ? \"X\" : \"O\";\n});\nnextValueAtom.debugLabel = \"nextValueAtom\";\nvar winnerAtom = atom(function (get) {\n  for (var i = 0; i < lines.length; i++) {\n    var _lines$i = _slicedToArray(lines[i], 3),\n        a = _lines$i[0],\n        b = _lines$i[1],\n        c = _lines$i[2];\n\n    if (get(squaresAtom)[a] && get(squaresAtom)[a] === get(squaresAtom)[b] && get(squaresAtom)[a] === get(squaresAtom)[c]) return get(squaresAtom)[a];\n  }\n\n  return null;\n});\nwinnerAtom.debugLabel = \"winnerAtom\";\nvar resetSquaresAtom = atom(null, function (_get, set) {\n  return set(squaresAtom, Array(9).fill(null));\n});\nresetSquaresAtom.debugLabel = \"resetSquaresAtom\";\nvar selectSquareAtom = atom(function (get) {\n  return get(squaresAtom);\n}, function (get, set, square) {\n  if (get(winnerAtom) || get(squaresAtom)[square]) return;\n  set(squaresAtom, get(squaresAtom).map(function (sqr, sqrIndex) {\n    return sqrIndex === square ? get(nextValueAtom) : sqr;\n  }));\n});\nselectSquareAtom.debugLabel = \"selectSquareAtom\";\nvar statusAtom = atom(function (get) {\n  return get(winnerAtom) ? \"Winner: \".concat(get(winnerAtom)) : get(squaresAtom).every(Boolean) ? \"Scratch\" : \"Next player: \".concat(get(nextValueAtom));\n});\nstatusAtom.debugLabel = \"statusAtom\";\n\nfunction Square(_ref) {\n  var i = _ref.i;\n\n  var _useAtom = useAtom(selectSquareAtom),\n      _useAtom2 = _slicedToArray(_useAtom, 2),\n      squares = _useAtom2[0],\n      selectSquare = _useAtom2[1];\n\n  return /*#__PURE__*/React.createElement(\"button\", {\n    className: \"square \".concat(squares[i]),\n    onClick: function onClick() {\n      return selectSquare(i);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, squares[i]);\n}\n\nfunction Status() {\n  var _useAtom3 = useAtom(statusAtom),\n      _useAtom4 = _slicedToArray(_useAtom3, 1),\n      gameStatus = _useAtom4[0];\n\n  var _useAtom5 = useAtom(resetSquaresAtom),\n      _useAtom6 = _slicedToArray(_useAtom5, 2),\n      reset = _useAtom6[1];\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, gameStatus), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      return reset();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, \"Reset\"));\n}\n\nfunction End() {\n  var _useWindowSize = useWindowSize(),\n      width = _useWindowSize.width,\n      height = _useWindowSize.height;\n\n  var _useAtom7 = useAtom(winnerAtom),\n      _useAtom8 = _slicedToArray(_useAtom7, 1),\n      gameWinner = _useAtom8[0];\n\n  return gameWinner && /*#__PURE__*/React.createElement(Confetti, {\n    width: width,\n    height: height,\n    colors: [gameWinner === \"X\" ? \"#d76050\" : \"#509ed7\", \"white\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  });\n}\n\nReactDOM.render( /*#__PURE__*/React.createElement(Provider, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"game\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"h1\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 7\n  }\n}, \"x\", /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 10\n  }\n}, \"o\"), \"x\", /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 25\n  }\n}, \"o\")), /*#__PURE__*/React.createElement(Status, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 7\n  }\n}), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"board\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 7\n  }\n}, [0, 1, 2, 3, 4, 5, 6, 7, 8].map(function (field) {\n  return /*#__PURE__*/React.createElement(Square, {\n    key: field,\n    i: field,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  });\n}))), /*#__PURE__*/React.createElement(End, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }\n})), document.getElementById(\"root\"));","map":{"version":3,"sources":["/Users/chandnipatel/Desktop/GitHub Forks/Jotai-TicTac/src/index.js"],"names":["React","ReactDOM","useWindowSize","Confetti","atom","useAtom","Provider","lines","squaresAtom","Array","fill","debugLabel","nextValueAtom","get","filter","r","length","winnerAtom","i","a","b","c","resetSquaresAtom","_get","set","selectSquareAtom","square","map","sqr","sqrIndex","statusAtom","every","Boolean","Square","squares","selectSquare","Status","gameStatus","reset","End","width","height","gameWinner","render","field","document","getElementById"],"mappings":"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","sourcesContent":["// This was forked and migrated to jotai from https://codesandbox.io/s/valtio-tic-tac-forked-7bzu4?file=/src/index.js\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles.css\";\nimport useWindowSize from \"react-use/lib/useWindowSize\";\nimport Confetti from \"react-confetti\";\nimport { atom, useAtom, Provider } from \"jotai\";\n\nconst lines = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]] // prettier-ignore\n\nconst squaresAtom = atom(Array(9).fill(null));\nsquaresAtom.debugLabel = \"squaresAtom\";\n\nconst nextValueAtom = atom((get) =>\n  get(squaresAtom).filter((r) => r === \"O\").length ===\n  get(squaresAtom).filter((r) => r === \"X\").length\n    ? \"X\"\n    : \"O\"\n);\nnextValueAtom.debugLabel = \"nextValueAtom\";\n\nconst winnerAtom = atom((get) => {\n  for (let i = 0; i < lines.length; i++) {\n    const [a, b, c] = lines[i];\n    if (\n      get(squaresAtom)[a] &&\n      get(squaresAtom)[a] === get(squaresAtom)[b] &&\n      get(squaresAtom)[a] === get(squaresAtom)[c]\n    )\n      return get(squaresAtom)[a];\n  }\n  return null;\n});\nwinnerAtom.debugLabel = \"winnerAtom\";\n\nconst resetSquaresAtom = atom(null, (_get, set) =>\n  set(squaresAtom, Array(9).fill(null))\n);\nresetSquaresAtom.debugLabel = \"resetSquaresAtom\";\n\nconst selectSquareAtom = atom(\n  (get) => get(squaresAtom),\n  (get, set, square) => {\n    if (get(winnerAtom) || get(squaresAtom)[square]) return;\n    set(\n      squaresAtom,\n      get(squaresAtom).map((sqr, sqrIndex) =>\n        sqrIndex === square ? get(nextValueAtom) : sqr\n      )\n    );\n  }\n);\nselectSquareAtom.debugLabel = \"selectSquareAtom\";\n\nconst statusAtom = atom((get) => {\n  return get(winnerAtom)\n    ? `Winner: ${get(winnerAtom)}`\n    : get(squaresAtom).every(Boolean)\n    ? `Scratch`\n    : `Next player: ${get(nextValueAtom)}`;\n});\nstatusAtom.debugLabel = \"statusAtom\";\n\nfunction Square({ i }) {\n  const [squares, selectSquare] = useAtom(selectSquareAtom);\n  return (\n    <button className={`square ${squares[i]}`} onClick={() => selectSquare(i)}>\n      {squares[i]}\n    </button>\n  );\n}\n\nfunction Status() {\n  const [gameStatus] = useAtom(statusAtom);\n  const [, reset] = useAtom(resetSquaresAtom);\n\n  return (\n    <div className=\"status\">\n      <div className=\"message\">{gameStatus}</div>\n      <button onClick={() => reset()}>Reset</button>\n    </div>\n  );\n}\n\nfunction End() {\n  const { width, height } = useWindowSize();\n  const [gameWinner] = useAtom(winnerAtom);\n  return (\n    gameWinner && (\n      <Confetti\n        width={width}\n        height={height}\n        colors={[gameWinner === \"X\" ? \"#d76050\" : \"#509ed7\", \"white\"]}\n      />\n    )\n  );\n}\n\nReactDOM.render(\n  <Provider>\n    <div className=\"game\">\n      <h1>\n        x<span>o</span>x<span>o</span>\n      </h1>\n      <Status />\n      <div className=\"board\">\n        {[0, 1, 2, 3, 4, 5, 6, 7, 8].map((field) => (\n          <Square key={field} i={field} />\n        ))}\n      </div>\n    </div>\n    <End />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"]},"metadata":{},"sourceType":"module"}